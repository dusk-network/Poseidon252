[package]
name = "poseidon252"
version = "0.17.0"
authors = [
  "zer0 <matteo@dusk.network>", "vlopes11 <victor@dusk.network>", "CPerezz <carlos@dusk.network>", "Kristoffer Str√∂m <kristoffer@dusk.network>"
]
edition = "2018"

[dependencies]
dusk-bls12_381 = {version = "0.6", default-features = false}
dusk-jubjub = {version = "0.8", default-features = false}
dusk-bytes = "0.1"
hades252 = { git = "https://github.com/dusk-network/hades252", tag = "v0.12.0", default-features = false }
canonical = {version = "0.5", optional = true}
canonical_derive = {version = "0.5", optional = true}
microkelvin = {version = "0.6", optional = true}
nstack = {version = "0.7", optional = true}

dusk-plonk = {version = "0.5", default-features = false, optional = true}
anyhow = { version = "1.0", optional = true }
thiserror = { version = "1.0", optional = true }

[dev-dependencies]
canonical_host = "0.5"
rand = "0.7"
criterion = "0.3"

[features]
default = ["std"]
alloc = []
std = [
    "hades252/default",
    "dusk-bls12_381/default",
    "dusk-jubjub/std",
    "dusk-plonk",
    "anyhow",
    "thiserror"
]
canon = [
    "dusk-bls12_381/canon",
    "dusk-jubjub/canon",
    "canonical",
    "canonical_derive",
    "microkelvin",
    "nstack",
    "alloc"
]
canon_host = [
    "canon",
    "canonical/host"
]

[profile.dev]
opt-level = 3
debug = false
rpath = false
lto = false
debug-assertions = false
codegen-units = 16
panic = 'unwind'
incremental = false
overflow-checks = false

[profile.release]
debug = false
panic = 'abort'
lto = true
incremental = false
codegen-units = 1
